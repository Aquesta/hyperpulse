# Техническое задание на разработку MicroSaaS-приложения "HyperPulse"

## 1. Введение

Приложение **HyperPulse** — это MicroSaaS-приложение для краткосрочных трейдеров на платформе **HyperLiquid**.  
Основная цель — предоставить пользователю оперативную и наглядную информацию о текущих сделках на рынке криптовалют в реальном времени.

Приложение отображает динамику покупок и продаж, а также позволяет быстро оценить настроения на рынке, что является ключевым для успешной внутридневной торговли.

---

## 2. Цели и задачи

### Цель:
Создать простое и интуитивно понятное приложение с минималистичным дизайном, которое предоставляет данные о покупках и продажах на бирже HyperLiquid, обновляемые в реальном времени.

### Задачи:
- Реализовать интерфейс с использованием библиотеки **Streamlit**.
- Интегрировать WebSocket для получения данных с платформы HyperLiquid с использованием **hyperliquid-python-sdk**.
- Отображение данных о сделках (покупки/продажи, объём сделок в USD).
- Разработать фильтры для выбора криптовалюты и временных интервалов.
- Реализовать визуализацию настроения рынка с использованием графиков и числовых индикаторов.
- Обеспечить обновление данных каждые 5–10 секунд.
- Минимизировать интерфейс, чтобы не перегружать пользователя лишней информацией.

---

## 3. Функциональные требования

### 3.1. Подключение к HyperLiquid через WebSocket
- Подключение к API HyperLiquid через `hyperliquid-python-sdk` с использованием **WebSocket**.
- Асинхронная обработка данных с использованием **asyncio**.
- Подписка на каналы с данными о сделках для выбранной криптовалюты.

### 3.2. Интерфейс пользователя с использованием Streamlit

#### Визуализация данных:
- Отображение графиков покупок/продаж за заданный временной интервал.
- Отображение объёмов сделок в USD.
- Индикатор настроения рынка (визуальное представление покупок/продаж).

#### Фильтры:
- Выбор криптовалюты (например, BTC, ETH, SOL).
- Выбор временного интервала (1, 2, 3, 5 минут).
- Фильтрация по типу ордеров (покупки/продажи).

#### Обновление данных:
- Обновление каждые **5–10 секунд**.
- Интерфейс без задержек.

#### Дизайн:
- Минимализм.
- Использование базовых элементов **Streamlit**: графики, числовые показатели, выпадающие списки.
- Лёгкость восприятия.

### 3.3. Обработка данных и отображение
- Задержка поступления данных — не более 5 секунд.
- Обработка:
  - Количество сделок и объём в USD.
  - Визуализация настроений.

### 3.4. Обработка ошибок и исключений
- Автоматическое переподключение при потере WebSocket.
- Уведомление пользователя при недоступности данных.
- Логирование ошибок на сервере и в интерфейсе.

---

## 4. Технические требования

### 4.1. Язык программирования
- **Python 3.12+**

### 4.2. Используемые библиотеки
- `streamlit` — интерфейс
- `hyperliquid-python-sdk` — WebSocket API
- `asyncio` — асинхронность
- `matplotlib` или `plotly` — визуализация
- `pandas` — обработка данных
- `logging` — логирование

### 4.3. Структура приложения

#### Backend (Python):
- Подключение к WebSocket.
- Получение и обработка данных о сделках.
- Передача данных в интерфейс.
- Логирование событий.

#### Frontend (Streamlit):
- Элементы фильтрации.
- Графики и индикаторы.
- Обновление каждые 5–10 секунд.

### 4.4. Взаимодействие с WebSocket

#### Пример кода:

```python
import asyncio
from hyperliquid import WebSocketClient

async def on_message(message):
    # Обработка входящих сообщений
    print(message)

async def main():
    client = WebSocketClient(url="wss://api.hyperliquid.com/ws")
    await client.connect()
    await client.subscribe("trades")
    await client.listen(on_message)

asyncio.run(main())
